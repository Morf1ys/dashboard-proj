var Kt=Object.defineProperty,nt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,Te=(e,s,l)=>s in e?Kt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,St=(e,s)=>{for(var l in s||(s={}))Rt.call(s,l)&&Te(e,l,s[l]);if(nt)for(var l of nt(s))zt.call(s,l)&&Te(e,l,s[l]);return e},E=(e,s,l)=>(Te(e,typeof s!="symbol"?s+"":s,l),l);const Gt={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"},Ut=e=>`<div class="${e.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${e.grid}"><#Multiple><div class="${e.column}"><div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,Zt=e=>`<div class="${e.header}"><div class="${e.headerContent}"><#Month /><#Year /></div></div><div class="${e.wrapper}"><div class="${e.content}"><#Months /></div></div>`,Vt=e=>`<div class="${e.header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><div class="${e.content}"><#Years /></div></div>`;class Jt{constructor(){var s;E(this,"isInit",!1),E(this,"input",!1),E(this,"type","default"),E(this,"months",2),E(this,"jumpMonths",1),E(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),E(this,"settings",{lang:"en",iso8601:!0,range:{min:this.date.min,max:this.date.max,disablePast:!1,disableGaps:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),E(this,"locale",{months:[],weekday:[]}),E(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,hideCalendar:null,showCalendar:null}),E(this,"popups",{}),E(this,"CSSClasses",St({},Gt)),E(this,"DOMTemplates",{default:(s=this.CSSClasses,`<div class="${s.header}"><#ArrowPrev /><div class="${s.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${s.wrapper}"><#WeekNumbers /><div class="${s.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:Ut(this.CSSClasses),month:Zt(this.CSSClasses),year:Vt(this.CSSClasses)}),E(this,"HTMLElement"),E(this,"HTMLOriginalElement"),E(this,"HTMLInputElement"),E(this,"rangeMin"),E(this,"rangeMax"),E(this,"rangeDisabled"),E(this,"rangeEnabled"),E(this,"selectedDates"),E(this,"selectedHolidays"),E(this,"selectedMonth"),E(this,"selectedYear"),E(this,"selectedHours"),E(this,"selectedMinutes"),E(this,"selectedKeeping"),E(this,"selectedTime"),E(this,"currentType"),E(this,"correctMonths"),E(this,"viewYear"),E(this,"dateMin"),E(this,"dateMax")}}const K=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,F=e=>new Date(`${e}T00:00:00`),ae=e=>e.reduce((s,l)=>(l.match(/^(\d{4}-\d{2}-\d{2})$/g)?s.push(l):l.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(i,r,d)=>{const c=F(r),h=F(d),u=new Date(c.getTime());for(;u<=h;u.setDate(u.getDate()+1))s.push(K(u));return i}),s),[]),se=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",V={notFoundSelector:e=>`${e} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},Qt=e=>{const s=e.settings.selected.month!==void 0&&Number(e.settings.selected.month)>=0&&Number(e.settings.selected.month)<12,l=e.settings.selected.year!==void 0&&Number(e.settings.selected.year)>=0&&Number(e.settings.selected.year)<=9999;e.selectedMonth=s?Number(e.settings.selected.month):e.date.today.getMonth(),e.selectedYear=l?Number(e.settings.selected.year):e.date.today.getFullYear(),e.viewYear=e.selectedYear},Xt=e=>{var s,l,i;e.settings.range.min=F(e.date.min)>=F(e.settings.range.min)?e.date.min:e.settings.range.min,e.settings.range.max=F(e.date.max)<=F(e.settings.range.max)?e.date.max:e.settings.range.max;const r=e.settings.range.disablePast&&!e.settings.range.disableAllDays&&F(e.settings.range.min)<e.date.today;e.rangeMin=r?K(e.date.today):e.settings.range.disableAllDays?K(new Date(e.selectedYear,e.selectedMonth,1)):e.settings.range.min,e.rangeMax=e.settings.range.disableAllDays?K(new Date(e.selectedYear,e.selectedMonth,1)):e.settings.range.max,e.rangeDisabled=e.settings.range.disabled&&!e.settings.range.disableAllDays?ae(e.settings.range.disabled):[],e.rangeDisabled.length>1&&e.rangeDisabled.sort((d,c)=>+new Date(d)-+new Date(c)),e.rangeEnabled=e.settings.range.enabled?ae(e.settings.range.enabled):[],(s=e.rangeEnabled)!=null&&s[0]&&((l=e.rangeDisabled)!=null&&l[0])&&(e.rangeDisabled=e.rangeDisabled.filter(d=>!e.rangeEnabled.includes(d))),e.rangeEnabled.length>1&&e.rangeEnabled.sort((d,c)=>+new Date(d)-+new Date(c)),(i=e.rangeEnabled)!=null&&i[0]&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1])},ea=e=>{var s,l;e.selectedDates=(s=e.settings.selected.dates)!=null&&s[0]?ae(e.settings.selected.dates):[],e.selectedHolidays=(l=e.settings.selected.holidays)!=null&&l[0]?ae(e.settings.selected.holidays):[]},ta=e=>{e.dateMin=e.settings.visibility.disabled?F(e.date.min):F(e.rangeMin),e.dateMax=e.settings.visibility.disabled?F(e.date.max):F(e.rangeMax)},aa=e=>{const s=e.settings.selection.time===!0||e.settings.selection.time===12;if(s||e.settings.selection.time===24){let l=!1;if(typeof e.settings.selected.time=="string"){const i=s?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(i,(r,d,c,h)=>(d&&c&&(l=!0,e.selectedHours=d,e.selectedMinutes=c),h&&s?e.selectedKeeping=h:s&&(e.selectedKeeping="AM"),""))}!l&&s?(e.selectedHours=se(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):l||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else if(e.settings.selection.time)throw new Error(V.incorrectTime)},sa=e=>{e.correctMonths=e.type==="multiple"?e.months===1?2:e.months>12?12:e.months:1},bt=e=>{e.currentType=e.type,Qt(e),Xt(e),ea(e),ta(e),aa(e),sa(e)},te=e=>({hide(){e.HTMLElement.classList.add(e.CSSClasses.calendarHidden),e.actions.hideCalendar&&e.actions.hideCalendar(e)},show(){e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden),e.actions.showCalendar&&e.actions.showCalendar(e)},self:e}),lt=({arrowPrev:e,arrowNext:s,isPrevHidden:l,isNextHidden:i})=>{e.style.visibility=l?"hidden":"",s.style.visibility=i?"hidden":""},He=e=>{var s,l;if(e.currentType==="month")return;const i=(s=e.HTMLElement)==null?void 0:s.querySelector(`.${e.CSSClasses.arrowPrev}`),r=(l=e.HTMLElement)==null?void 0:l.querySelector(`.${e.CSSClasses.arrowNext}`);!i||!r||{default:()=>{const d=F(K(new Date(e.selectedYear,e.selectedMonth,1))),c=new Date(d.getTime()),h=new Date(d.getTime());c.setMonth(c.getMonth()-e.jumpMonths),h.setMonth(h.getMonth()+e.jumpMonths),e.settings.selection.year||(e.dateMin.setFullYear(d.getFullYear()),e.dateMax.setFullYear(d.getFullYear()));const u=!e.settings.selection.month||c.getFullYear()<e.dateMin.getFullYear()||c.getFullYear()===e.dateMin.getFullYear()&&c.getMonth()<e.dateMin.getMonth(),b=!e.settings.selection.month||h.getFullYear()>e.dateMax.getFullYear()||h.getFullYear()===e.dateMax.getFullYear()&&h.getMonth()>e.dateMax.getMonth();lt({arrowPrev:i,arrowNext:r,isPrevHidden:u,isNextHidden:b})},year:()=>{lt({arrowPrev:i,arrowNext:r,isPrevHidden:e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear(),isNextHidden:e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()})}}[e.currentType==="multiple"?"default":e.currentType]()},Ct=(e,s)=>{if(!e)return null;const l=F(e),i=s?l.getDay()||7:l.getDay();l.setDate(l.getDate()+4-i);const r=new Date(l.getFullYear(),0,1),d=Math.ceil(((+l-+r)/864e5+1)/7);return{year:l.getFullYear(),week:d}},na=(e,s,l,i)=>{const r=l.querySelector(`[data-calendar-day="${e}"]`);r&&(s!=null&&s.modifier&&r.classList.add(...s.modifier.trim().split(" ")),s!=null&&s.html&&(r.parentElement.innerHTML+=`<div class="${i}">${s.html}</div>`))},la=(e,s)=>{var l;e.popups&&((l=Object.entries(e.popups))==null||l.forEach(([i,r])=>na(i,r,s,e.CSSClasses.dayPopup)))},ra=(e,s,l,i,r)=>{const d=s[l].querySelector(`.${e.CSSClasses.dayBtn}`),c=Ct(d==null?void 0:d.dataset.calendarDay,e.settings.iso8601);if(!c)return;const h=i.cloneNode(!0);h.innerText=String(c.week),h.dataset.calendarYearWeek=String(c.year),r.append(h)},ia=(e,s,l,i,r)=>{if(!e.settings.visibility.weekNumbers)return;i.innerHTML="";const d=document.createElement("b");d.className=e.CSSClasses.weekNumbersTitle,d.innerText="#",i.append(d);const c=document.createElement("div");c.className=e.CSSClasses.weekNumbersContent,i.append(c);const h=document.createElement("button");h.type="button",h.className=e.CSSClasses.weekNumber;const u=r.querySelectorAll(`.${e.CSSClasses.day}`),b=Math.ceil((s+l)/7);for(let C=0;C<b;C++)ra(e,u,C===0?6:7*C,h,c)},da=(e,s,l)=>{var i,r,d,c,h;const u=(i=e.settings.range.disableWeekday)==null?void 0:i.includes(l),b=e.settings.range.disableAllDays&&((r=e.rangeEnabled)==null?void 0:r[0]);!u&&!b||(d=e.rangeEnabled)!=null&&d.includes(s)||(c=e.rangeDisabled)!=null&&c.includes(s)||(e.rangeDisabled.push(s),(h=e.rangeDisabled)==null||h.sort((C,f)=>+new Date(C)-+new Date(f)))},oa=(e,s,l,i,r,d,c)=>{var h,u,b;(F(e.rangeMin)>F(d)||F(e.rangeMax)<F(d)||(h=e.rangeDisabled)!=null&&h.includes(d)||!e.settings.selection.month&&c||!e.settings.selection.year&&F(d).getFullYear()!==s)&&(i.classList.add(e.CSSClasses.dayBtnDisabled),i.tabIndex=-1),e.settings.visibility.today&&K(e.date.today)===d&&i.classList.add(e.CSSClasses.dayBtnToday),!e.settings.visibility.weekend||r!==0&&r!==6||i.classList.add(e.CSSClasses.dayBtnWeekend),(u=e.selectedHolidays)!=null&&u.includes(d)&&i.classList.add(e.CSSClasses.dayBtnHoliday),(b=e.selectedDates)!=null&&b.includes(d)&&(i.classList.add(e.CSSClasses.dayBtnSelected),e.selectedDates.length>1&&e.settings.selection.day==="multiple-ranged"&&(e.selectedDates[0]===d&&l.classList.add(e.CSSClasses.daySelectedFirst),e.selectedDates[e.selectedDates.length-1]===d&&l.classList.add(e.CSSClasses.daySelectedLast),e.selectedDates[0]!==d&&e.selectedDates[e.selectedDates.length-1]!==d&&l.classList.add(e.CSSClasses.daySelectedIntermediate)))},_e=(e,s,l,i,r,d,c,h)=>{const u=document.createElement("div");u.className=e.CSSClasses.day;const b=document.createElement("button");b.className=`${e.CSSClasses.dayBtn}${h?` ${h}`:""}`,b.type="button",b.innerText=String(i),b.dataset.calendarDay=d,e.settings.visibility.weekNumbers&&(()=>{const C=Ct(d,e.settings.iso8601);C&&(b.dataset.calendarWeekNumber=String(C.week))})(),c?e.settings.visibility.daysOutside&&u.append(b):u.append(b),da(e,d,r),oa(e,s,u,b,r,d,c),l.append(u),e.actions.getDays&&e.actions.getDays(i,d,u,b,e)},ca=(e,s,l,i,r)=>{let d=new Date(l,i,0).getDate()-(r-1);const c=i===0?l-1:l,h=i===0?12:i<10?`0${i}`:i;for(let u=r;u>0;u--,d++){const b=`${c}-${h}-${d}`,C=F(b).getDay();_e(e,l,s,d,C,b,!0,e.CSSClasses.dayBtnPrev)}},ua=(e,s,l,i,r)=>{for(let d=1;d<=l;d++){const c=new Date(i,r,d),h=K(c),u=c.getDay();_e(e,i,s,d,u,h,!1,null)}},ma=(e,s,l,i,r,d)=>{const c=d+l,h=7*Math.ceil(c/7)-c,u=r+1===12?i+1:i,b=r+1===12?"01":r+2<10?`0${r+2}`:r+2;for(let C=1;C<=h;C++){const f=`${u}-${b}-${C<10?`0${C}`:String(C)}`,N=F(f).getDay();_e(e,i,s,C,N,f,!0,e.CSSClasses.dayBtnNext)}},ue=e=>{const s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),l=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),i=new Date(e.selectedYear,e.selectedMonth,1);(e.settings.range.disableAllDays||e.settings.range.disableWeekday)&&e.rangeDisabled[0]&&(e.rangeDisabled=[]),s.forEach((r,d)=>{const c=new Date(i);c.setMonth(c.getMonth()+d);const h=c.getMonth(),u=c.getFullYear(),b=new Date(u,h,1),C=new Date(u,h+1,0).getDate(),f=e.settings.iso8601?(b.getDay()!==0?b.getDay():7)-1:b.getDay();e.settings.selection.day&&r.classList.add(e.CSSClasses.daysSelecting),r.innerHTML="",ca(e,r,u,h,f),ua(e,r,C,u,h),ma(e,r,C,u,h,f),ia(e,f,C,l[d],r),la(e,r)})},ga=(e,s,l,i)=>{const r=new Date(i.setMonth(e.selectedMonth+l)).getMonth(),d=e.settings.selection.month===!1||e.settings.selection.month==="only-arrows";s.tabIndex=d?-1:0,s.classList.toggle(e.CSSClasses.monthDisabled,d),s.setAttribute("data-calendar-selected-month",String(r)),s.innerText=e.locale.months[r]},ha=(e,s,l,i)=>{const r=new Date(i.setFullYear(e.selectedYear,e.selectedMonth+l)).getFullYear(),d=e.settings.selection.year===!1||e.settings.selection.year==="only-arrows";s.tabIndex=d?-1:0,s.classList.toggle(e.CSSClasses.yearDisabled,d),s.setAttribute("data-calendar-selected-year",String(r)),s.innerText=String(r)},ge=e=>{var s,l;const i=(s=e.HTMLElement)==null?void 0:s.querySelectorAll("[data-calendar-selected-month]"),r=(l=e.HTMLElement)==null?void 0:l.querySelectorAll("[data-calendar-selected-year]");if(!(i!=null&&i[0])&&(r!=null&&r[0]))return;const d=new Date(e.selectedYear,e.selectedMonth,1);i==null||i.forEach((c,h)=>ga(e,c,h,d)),r==null||r.forEach((c,h)=>ha(e,c,h,d))},Le=(e,s)=>{const l=F(K(new Date(e.selectedYear,e.selectedMonth,1)));({prev:()=>l.setMonth(l.getMonth()-e.jumpMonths),next:()=>l.setMonth(l.getMonth()+e.jumpMonths)})[s](),[e.selectedMonth,e.selectedYear]=[l.getMonth(),l.getFullYear()],ge(e),He(e),ue(e)},ya=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,va=e=>`<button type="button"class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,Ma=e=>`<button type="button"class="${e.CSSClasses.month}"data-calendar-selected-month></button>`,pa=e=>`<button type="button"class="${e.CSSClasses.year}"data-calendar-selected-year></button>`,Sa=e=>`<div class="${e.CSSClasses.week}"></div>`,ba=e=>`<div class="${e.CSSClasses.days}"></div>`,Ca=e=>`<div class="${e.CSSClasses.months}"></div>`,fa=e=>`<div class="${e.CSSClasses.years}"></div>`,Da=e=>e.settings.visibility.weekNumbers?`<div class="${e.CSSClasses.weekNumbers}"></div>`:"",wa=e=>e.settings.selection.time?`<div class="${e.CSSClasses.time}"></div>`:"",Ta=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:va,ArrowPrev:ya,ControlTime:wa,Days:ba,Month:Ma,Months:Ca,Week:Sa,WeekNumbers:Da,Year:pa,Years:fa},Symbol.toStringTag,{value:"Module"})),ee=(e,s)=>s.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(l,i)=>{const r=(d=i.replace(/[/\s\n\t]/g,""),Ta[d]);var d;return r?r(e):""}).replace(/[\n\t]/g,""),La=(e,s)=>s.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(l,i)=>{let r="";for(let d=0;d<e.correctMonths;d++)r+=i;return r}).replace(/[\n\t]/g,""),xe=(e,s)=>{const{HTMLElement:l,CSSClasses:i,DOMTemplates:r,type:d,currentType:c,correctMonths:h}=e,u=(C,f)=>{if(!s)return;const N=l.querySelector(`.${i.controls}`);N&&l.removeChild(N),l.querySelector(`.${i.grid}`).classList.add(i.gridDisabled);const H=s.closest(`.${i.column}`);H.classList.add(C),H.innerHTML=ee(e,f)},b={default:()=>{l.classList.add(i.calendarDefault),l.classList.remove(i.calendarMonth,i.calendarYear),l.innerHTML=ee(e,r.default)},multiple:()=>{h&&(l.classList.add(i.calendarMultiple),l.classList.remove(i.calendarMonth,i.calendarYear),l.innerHTML=La(e,ee(e,r.multiple)))},month:()=>{d!=="multiple"?(l.classList.add(i.calendarMonth),l.classList.remove(i.calendarDefault,i.calendarYear),l.innerHTML=ee(e,r.month)):u(i.columnMonth,r.month)},year:()=>{d!=="multiple"?(l.classList.add(i.calendarYear),l.classList.remove(i.calendarDefault,i.calendarMonth),l.innerHTML=ee(e,r.year)):u(i.columnYear,r.year)}};l.classList.add(i.calendar),b[c]()},ka=(e,s,l,i,r)=>{const d=s.cloneNode(!1);return d.className=`${e.CSSClasses.yearsYear}${l===r?` ${e.CSSClasses.yearsYearSelected}`:i?` ${e.CSSClasses.yearsYearDisabled}`:""}`,d.dataset.calendarYear=String(r),d.title=String(r),d.innerText=String(r),i&&(d.tabIndex=-1),d},Ye=(e,s)=>{const l=s!=null&&s.dataset.calendarSelectedYear?Number(s==null?void 0:s.dataset.calendarSelectedYear):e.selectedYear;e.currentType="year",xe(e,s),ge(e),He(e);const i=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!e.settings.selection.year||!i)return;i.classList.add(e.CSSClasses.yearsSelecting);const r=e.type!=="multiple"||e.selectedYear===l?0:1,d=document.createElement("button");d.type="button";for(let c=e.viewYear-7;c<e.viewYear+8;c++){const h=c<e.dateMin.getFullYear()+r||c>e.dateMax.getFullYear();i.append(ka(e,d,l,h,c))}},$a=(e,s)=>{const l=s.target.closest(`.${e.CSSClasses.arrow}`);l&&(["default","multiple"].includes(e.currentType)?Le(e,l.dataset.calendarArrow):e.currentType==="year"&&e.viewYear!==void 0&&(e.viewYear+={prev:-15,next:15}[l.dataset.calendarArrow],Ye(e,s.target)),e.actions.clickArrow&&e.actions.clickArrow(s,e))},Ea=(e,s)=>{var l;if(!e.settings.visibility.weekNumbers||!e.actions.clickWeekNumber)return;const i=s.target.closest(`.${e.CSSClasses.weekNumber}`),r=(l=e.HTMLElement)==null?void 0:l.querySelectorAll("[data-calendar-week-number]");if(!i||!r)return;const d=Number(i.innerText),c=Number(i.dataset.calendarYearWeek),h=[...r].filter(u=>Number(u.dataset.calendarWeekNumber)===d);e.actions.clickWeekNumber(s,d,h,c,e)},ft=e=>`${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`.replace(/\./,""),Ha=(e,s)=>{const l=new Date(`1978-01-0${s+1}T00:00:00.000Z`).toLocaleString(e.settings.lang,{weekday:"short",timeZone:"UTC"});e.locale.weekday.push(ft(l))},_a=(e,s)=>{const l=new Date(`1978-${s+1<=9?`0${s+1}`:s+1}-01T00:00:00.000Z`).toLocaleString(e.settings.lang,{month:"long",timeZone:"UTC"});e.locale.months.push(ft(l))},xa=e=>{if(e.settings.lang!=="define"||!e.locale.weekday[6]||!e.locale.months[11]){if(e.settings.lang==="define")throw new Error(V.notLocale);e.locale.weekday=[],e.locale.months=[];for(let s=0;s<7;s++)Ha(e,s);for(let s=0;s<12;s++)_a(e,s)}},rt=e=>{if(e.type!=="multiple")return 0;const s=[...e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`)].findIndex(l=>l.classList.contains(`${e.CSSClasses.columnMonth}`));return s>0?s:0},Ya=(e,s,l,i,r,d)=>{const c=s.cloneNode(!1);return c.className=`${e.CSSClasses.monthsMonth}${l===d?` ${e.CSSClasses.monthsMonthSelected}`:r?` ${e.CSSClasses.monthsMonthDisabled}`:""}`,c.title=i,c.innerText=`${e.settings.visibility.monthShort?i.substring(0,3):i}`,c.dataset.calendarMonth=String(d),r&&(c.tabIndex=-1),c},Dt=(e,s)=>{var l,i;const r=s!=null&&s.dataset.calendarSelectedMonth?Number(s.dataset.calendarSelectedMonth):e.selectedMonth,d=(l=s==null?void 0:s.closest(`.${e.CSSClasses.column}`))==null?void 0:l.querySelector(`.${e.CSSClasses.year}`),c=d?Number(d.dataset.calendarSelectedYear):e.selectedYear;e.currentType="month",xe(e,s),ge(e);const h=(i=e.HTMLElement)==null?void 0:i.querySelector(`.${e.CSSClasses.months}`);if(!e.settings.selection.month||!h)return;h.classList.add(e.CSSClasses.monthsSelecting);const u=e.jumpMonths>1?e.locale.months.map((C,f)=>r-e.jumpMonths*f).concat(e.locale.months.map((C,f)=>r+e.jumpMonths*f)).filter(C=>C>=0&&C<=12):Array.from(Array(12).keys()),b=document.createElement("button");b.type="button";for(let C=0;C<12;C++){const f=e.locale.months[C],N=C<e.dateMin.getMonth()+rt(e)&&c<=e.dateMin.getFullYear()||C>e.dateMax.getMonth()+rt(e)&&c>=e.dateMax.getFullYear()||C!==r&&!u.includes(C);h.append(Ya(e,b,r,f,N,C))}},Ne=(e,s)=>e&&s?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][s]:"",ce=(e,s,l)=>e.querySelector(`.${s}${l?` input[name="${l}"]`:""}`),it=(e,s,l)=>{e.addEventListener("mouseover",()=>s.classList.add(l)),e.addEventListener("mouseout",()=>s.classList.remove(l))},G=(e,s,l,i)=>{({hours:()=>{e.selectedHours=l},minutes:()=>{e.selectedMinutes=l}})[i](),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(s,e),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(s,te(e),e)},dt=(e,s,l,i,r,d)=>{s.addEventListener("input",c=>{const h=c.target,u=Number(h.value),b=u<10?`0${u}`:`${u}`;if(r!=="hours"||d!==12)return l.value=b,void G(e,c,b,r);u<d&&u>0?(l.value=b,e.selectedKeeping="AM",i.innerText=e.selectedKeeping,G(e,c,b,r)):(u===0?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),l.value=se(h.value),G(e,c,se(h.value),r))})},ot=(e,s,l,i,r,d)=>{l.addEventListener("change",c=>{const h=c.target,u=Number(h.value),b=u<10?`0${u}`:`${u}`;r==="hours"&&d===12?h.value&&u<=d&&u>0?(h.value=b,s.value=Ne(b,e.selectedKeeping),G(e,c,b,r)):h.value&&u<24&&(u>d||u===0)?(u===0?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),h.value=se(h.value),s.value=b,G(e,c,se(h.value),r)):h.value=e.selectedHours:h.value&&u<=d&&u>=0?(h.value=b,s.value=b,G(e,c,b,r)):r==="hours"?h.value=e.selectedHours:r==="minutes"&&(h.value=e.selectedMinutes)})},Na=(e,s,l)=>{s.addEventListener("click",i=>{e.selectedKeeping=s.innerText.includes("AM")?"PM":"AM",s.innerText=e.selectedKeeping,l.value=Ne(e.selectedHours,e.selectedKeeping),G(e,i,e.selectedHours,"hours")})},Aa=(e,s,l)=>{const i=l===24?23:l||12,r=ce(s,e.CSSClasses.timeRange,"hours"),d=ce(s,e.CSSClasses.timeRange,"minutes"),c=ce(s,e.CSSClasses.timeHours,"hours"),h=ce(s,e.CSSClasses.timeMinutes,"minutes"),u=s.querySelector(`.${e.CSSClasses.timeKeeping}`);it(r,c,e.CSSClasses.isFocus),it(d,h,e.CSSClasses.isFocus),dt(e,r,c,u,"hours",i),dt(e,d,h,u,"minutes",0),ot(e,r,c,u,"hours",i),ot(e,d,h,u,"minutes",59),u&&Na(e,u,r)},ct=(e,s,l,i)=>`<label class="${s}"><input type="text"name="${e}"maxlength="2"value="${l}"${i?"disabled":""}></label>`,ut=(e,s,l,i,r,d)=>`<label class="${s}"><input type="range"name="${e}"min="${l}"max="${i}"step="${r}"value="${d}"></label>`,Pa=e=>{const s=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!s)return;const l=e.settings.selection.time===!0?12:e.settings.selection.time,i=e.settings.selection.controlTime==="range",[r,d]=[0,23],[c,h]=[0,59];s.innerHTML=`<div class="${e.CSSClasses.timeContent}">${ct("hours",e.CSSClasses.timeHours,e.selectedHours,i)}${ct("minutes",e.CSSClasses.timeMinutes,e.selectedMinutes,i)}${l===12?`<button type="button" class="${e.CSSClasses.timeKeeping}"${i?"disabled":""}>${e.selectedKeeping}</button>`:""}</div><div class="${e.CSSClasses.timeRanges}">${ut("hours",e.CSSClasses.timeRange,r,d,e.settings.selection.stepHours,e.selectedKeeping?Ne(e.selectedHours,e.selectedKeeping):e.selectedHours)}${ut("minutes",e.CSSClasses.timeRange,c,h,e.settings.selection.stepMinutes,e.selectedMinutes)}</div>`,Aa(e,s,l)},Ia=(e,s,l)=>{const i=document.createElement("b");s.innerHTML="";for(let r=0;r<l.length;r++){const d=l[r],c=i.cloneNode(!0);c.className=`${e.CSSClasses.weekDay}`,c.className=`${e.CSSClasses.weekDay}${e.settings.visibility.weekend&&e.settings.iso8601?r===5||r===6?` ${e.CSSClasses.weekDayWeekend}`:"":e.settings.visibility.weekend&&!e.settings.iso8601&&(r===0||r===6)?` ${e.CSSClasses.weekDayWeekend}`:""}`,c.innerText=`${d}`,s.append(c)}},mt=e=>{const s=[...e.locale.weekday];s[0]&&(e.settings.iso8601&&s.push(s.shift()),e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`).forEach(l=>Ia(e,l,s)))},wt=["light","dark","system"],me={value:!1,set:()=>{me.value=!0},check:()=>me.value},Tt=(e,s)=>wt.find(l=>{var i;return l!=="system"&&((i=e.getAttribute(s))==null?void 0:i.includes(l))}),Z=(e,s)=>{e.dataset.calendarTheme=s},gt=(e,s)=>{const l=i=>Z(e.HTMLElement,i.matches?"dark":"light");l(s),e.settings.visibility.theme!=="system"||me.check()||(s.addEventListener("change",l),me.set())},Fa=(e,s,l)=>{new MutationObserver(i=>{for(let r=0;r<i.length;r++)if(i[r].attributeName===l){const d=Tt(s,l);d&&Z(e.HTMLElement,d);break}}).observe(s,{attributes:!0})},Oa=(e,s)=>{const l=e.settings.visibility.themeDetect?document.querySelector(e.settings.visibility.themeDetect):null;if(l){const i=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(d,c)=>c),r=Tt(l,i);r?(Z(e.HTMLElement,r),Fa(e,l,i)):gt(e,s)}else gt(e,s)},Wa=e=>{if(!wt.includes(e.settings.visibility.theme))throw new Error(V.incorrectTheme);let s;if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void Z(e.HTMLElement,"light");s=window.matchMedia("(prefers-color-scheme: dark)"),{light:()=>Z(e.HTMLElement,"light"),dark:()=>Z(e.HTMLElement,"dark"),system:()=>Oa(e,s)}[e.settings.visibility.theme]()},ne=e=>{const s={default:()=>{mt(e),ue(e)},multiple:()=>{mt(e),ue(e)},month:()=>Dt(e),year:()=>Ye(e)};Wa(e),xa(e),xe(e),ge(e),He(e),Pa(e),s[e.currentType]()},L={self:null,rangeMin:void 0,rangeMax:void 0},ht=()=>{var e;if(!((e=L.self)!=null&&e.HTMLElement))return;const{CSSClasses:s}=L.self;L.self.HTMLElement.querySelectorAll(`.${L.self.CSSClasses.dayBtnHover}`).forEach(l=>{var i;l.classList.remove(L.self.CSSClasses.dayBtnHover),(i=l.parentElement)==null||i.classList.remove(s.dayHoverIntermediate,s.dayHoverFirst,s.dayHoverLast)})},qa=(e,s,l)=>{var i,r,d;if(!((i=L.self)!=null&&i.selectedDates))return;const c=K(e),{CSSClasses:h}=L.self;if((r=L.self.rangeDisabled)!=null&&r.includes(c))return;const u=(d=L.self.HTMLElement)==null?void 0:d.querySelectorAll(`[data-calendar-day="${c}"]`);u==null||u.forEach(b=>{var C;b.classList.add(h.dayBtnHover),(C=b.parentElement)==null||C.classList.add(h.dayHoverIntermediate)}),s==null||s.forEach(b=>{var C;return(C=b.parentElement)==null?void 0:C.classList.add(h.dayHoverFirst)}),l==null||l.forEach(b=>{var C;return(C=b.parentElement)==null?void 0:C.classList.add(h.dayHoverLast)})},ke=e=>{var s;if(!e.target||!((s=L.self)!=null&&s.selectedDates))return;if(!e.target.closest(`.${L.self.CSSClasses.days}`))return void ht();const l=e.target.closest("[data-calendar-day]");if(!l)return;const i=l.dataset.calendarDay,r=F(L.self.selectedDates[0]),d=F(i),c=L.self.HTMLElement.querySelectorAll(`[data-calendar-day="${L.self.selectedDates[0]}"]`),h=L.self.HTMLElement.querySelectorAll(`[data-calendar-day="${i}"]`),[u,b]=r<d?[c,h]:[h,c],[C,f]=r<d?[r,d]:[d,r];ht();for(let N=new Date(C);N<=f;N.setDate(N.getDate()+1))qa(N,u,b)},$e=e=>{L.self&&e.key==="Escape"&&(L.self.selectedDates=[],L.self.HTMLElement.removeEventListener("mousemove",ke),document.removeEventListener("keydown",$e),ne(L.self))},Ba=()=>{var e,s,l;if(!((s=(e=L.self)==null?void 0:e.selectedDates)!=null&&s[0])||!L.self.rangeDisabled||((l=L.self.rangeDisabled)==null?void 0:l.length)<2)return;const i=F(L.self.selectedDates[0]),[r,d]=L.self.rangeDisabled.map(c=>F(c)).reduce(([c,h],u)=>[i>=u?u:c,i<u&&h===null?u:h],[null,null]);r&&(L.self.rangeMin=K(new Date(r.setDate(r.getDate()+1)))),d&&(L.self.rangeMax=K(new Date(d.setDate(d.getDate()-1))))},Lt=(e,s)=>{var l;if(s){const i=e.selectedDates.length===1&&e.selectedDates[0].includes(s);e.selectedDates=i&&!e.settings.selection.cancelableDay?[s,s]:i&&e.settings.selection.cancelableDay?[]:e.selectedDates.length>1?[s]:[...e.selectedDates,s],(l=e.selectedDates)==null||l.sort((r,d)=>+new Date(r)-+new Date(d))}e.settings.range.disableGaps&&(L.rangeMin=L.rangeMin?L.rangeMin:e.rangeMin,L.rangeMax=L.rangeMax?L.rangeMax:e.rangeMax),L.self=e,{set:()=>{e.HTMLElement.addEventListener("mousemove",ke),document.addEventListener("keydown",$e),e.settings.range.disableGaps&&Ba()},reset:()=>{const[i,r]=[e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]];e.selectedDates=e.selectedDates[0]!==e.selectedDates[e.selectedDates.length-1]?ae([`${i}:${r}`]):[e.selectedDates[0],e.selectedDates[0]],e.HTMLElement.removeEventListener("mousemove",ke),document.removeEventListener("keydown",$e),e.settings.range.disableGaps&&L.self&&(L.self.rangeMin=L.rangeMin,L.self.rangeMax=L.rangeMax)}}[e.selectedDates.length===1?"set":"reset"]()},yt=(e,s,l)=>{if(!s.dataset.calendarDay)return;const i=s.dataset.calendarDay,r=s.classList.contains(e.CSSClasses.dayBtnSelected);r&&!e.settings.selection.cancelableDay||(e.selectedDates=r?e.selectedDates.filter(d=>d!==i):l?[...e.selectedDates,i]:[i])},ja=(e,s)=>{var l;const i=s.target,r=u=>i.closest(`.${u}`),d=r(e.CSSClasses.dayBtn);if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!d)return;({single:()=>yt(e,d,!1),multiple:()=>yt(e,d,!0),"multiple-ranged":()=>Lt(e,d.dataset.calendarDay)})[e.settings.selection.day](),(l=e.selectedDates)==null||l.sort((u,b)=>+new Date(u)-+new Date(b)),e.actions.clickDay&&e.actions.clickDay(s,e),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(s,te(e),e);const c=r(e.CSSClasses.dayBtnPrev),h=r(e.CSSClasses.dayBtnNext);({prev:()=>Le(e,"prev"),next:()=>Le(e,"next"),default:()=>ue(e)})[c?"prev":h?"next":"default"]()},vt=(e,s,l,i,r)=>{const d=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),c=[...d].findIndex(u=>u.classList.contains(s)),h=Number(d[c].querySelector(`.${l}`).getAttribute(r));return e.currentType==="month"&&c>=0?i-c:e.currentType==="year"&&e.selectedYear!==h?i-1:i},Ka=(e,s,l,i,r)=>{const d={year:()=>{var c,h;return(h=(c=e.actions).clickYear)==null?void 0:h.call(c,s,e)},month:()=>{var c,h;return(h=(c=e.actions).clickMonth)==null?void 0:h.call(c,s,e)}};({year:()=>{if(e.type==="multiple"){const c=vt(e,e.CSSClasses.columnYear,e.CSSClasses.year,Number(r.dataset.calendarYear),"data-calendar-selected-year"),h=e.selectedMonth<e.dateMin.getMonth()&&c<=e.dateMin.getFullYear(),u=e.selectedMonth>e.dateMax.getMonth()&&c>=e.dateMax.getFullYear(),b=c<e.dateMin.getFullYear(),C=c>e.dateMax.getFullYear();h||b?(e.selectedYear=e.dateMin.getFullYear(),e.selectedMonth=e.dateMin.getMonth()):u||C?(e.selectedYear=e.dateMax.getFullYear(),e.selectedMonth=e.dateMax.getMonth()):e.selectedYear=c}else e.selectedYear=Number(r.dataset.calendarYear)},month:()=>{if(e.type==="multiple"){const c=vt(e,e.CSSClasses.columnMonth,e.CSSClasses.month,Number(r.dataset.calendarMonth),"data-calendar-selected-month"),h=r.closest(`.${i.column}`).querySelector(`.${e.CSSClasses.year}`);e.selectedYear=Number(h.dataset.calendarSelectedYear);const u=c<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear(),b=c>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear();e.selectedMonth=u?e.dateMin.getMonth():b?e.dateMax.getMonth():c}else e.selectedMonth=Number(r.dataset.calendarMonth)}})[l](),d[l](),e.currentType=e.type,ne(e)},Mt=(e,s,l,i)=>{if(!e.settings.selection[l])return;const r=s.target,d=C=>r.closest(`.${C}`),c=d(i.header),h=d(i.item),u=d(e.CSSClasses.grid),b=d(e.CSSClasses.column);e.currentType!==l&&c?{year:()=>Ye(e,r),month:()=>Dt(e,r)}[l]():h?Ka(e,s,l,i,h):(e.currentType===l&&c||e.type==="multiple"&&e.currentType===l&&u&&!b)&&(e.currentType=e.type,ne(e))},kt=e=>{e.HTMLElement.addEventListener("click",s=>{$a(e,s),Ea(e,s),ja(e,s),Mt(e,s,"month",{header:e.CSSClasses.month,item:e.CSSClasses.monthsMonth,column:e.CSSClasses.columnMonth}),Mt(e,s,"year",{header:e.CSSClasses.year,item:e.CSSClasses.yearsYear,column:e.CSSClasses.columnYear})})},$t=(e,{year:s,month:l,dates:i,holidays:r,time:d}={})=>{var c;if(!e.isInit)throw new Error(V.notInit);const h=St({},e.settings.selected);e.settings.selected.year=s?h.year:e.selectedYear,e.settings.selected.month=l?h.month:e.selectedMonth,e.settings.selected.holidays=r?h.holidays:e.selectedHolidays,e.settings.selected.time=d?h.time:e.selectedTime,e.settings.selected.dates=i==="only-first"&&((c=e.selectedDates)!=null&&c[0])?[e.selectedDates[0]]:i===!0?h.dates:e.selectedDates,bt(e),ne(e),e.settings.selected=h,e.settings.selection.day==="multiple-ranged"&&i&&Lt(e)},we=(e,s,l)=>{const i={left:0,center:e.offsetWidth/2-s.offsetWidth/2,right:e.offsetWidth-s.offsetWidth};let r=e.offsetHeight,d=i[l];for(let c=e;c;c=c.offsetParent)r+=c.offsetTop||0,d+=c.offsetLeft||0;Object.assign(s.style,{left:`${d}px`,top:`${r}px`})},Ra=e=>{let s=!0;e.HTMLInputElement=e.HTMLElement;const l=()=>we(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),i=r=>{var d;e&&r.target!==e.HTMLInputElement&&!((d=e.HTMLElement)!=null&&d.contains(r.target))&&(e.HTMLInputElement&&e.HTMLElement&&te(e).hide(),window.removeEventListener("resize",l),document.removeEventListener("click",i,{capture:!0}))};e.HTMLInputElement.addEventListener("click",()=>{s?(()=>{const r=document.createElement("div");r.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,e.HTMLElement=r,document.body.append(e.HTMLElement),we(e.HTMLInputElement,r,e.settings.visibility.positionToInput),s=!1,setTimeout(()=>te(e).show(),0),$t(e,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),kt(e)})():(we(e.HTMLInputElement,e.HTMLElement,e.settings.visibility.positionToInput),te(e).show()),window.addEventListener("resize",l),document.addEventListener("click",i,{capture:!0})})},za=e=>{var s,l,i,r;if(!e.isInit)throw new Error(V.notInit);e.input?((l=(s=e.HTMLElement)==null?void 0:s.parentElement)==null||l.removeChild(e.HTMLElement),(i=e.HTMLInputElement)==null||i.replaceWith(e.HTMLOriginalElement),e.HTMLInputElement=void 0):(r=e.HTMLElement)==null||r.replaceWith(e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement};class Va extends Jt{constructor(s,l){if(super(),E(this,"init",()=>{return(r=this).HTMLOriginalElement=r.HTMLElement.cloneNode(!0),r.isInit=!0,void(r.input?Ra(r):(bt(r),ne(r),kt(r)));var r}),E(this,"update",r=>$t(this,r)),E(this,"destroy",()=>za(this)),this.HTMLElement=typeof s=="string"?document.querySelector(s):s,!this.HTMLElement)throw new Error(V.notFoundSelector(s));if(!l)return;const i=(r,d)=>{Object.keys(d).forEach(c=>{typeof r[c]!="object"||typeof d[c]!="object"||d[c]instanceof Date?r[c]=d[c]:i(r[c],d[c])})};i(this,l)}}var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pt={},Ua={get exports(){return pt},set exports(e){pt=e}};(function(e,s){(function(l,i){e.exports=i()})(Et,function(){var l=Object.defineProperty,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(t,a,n)=>a in t?l(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,h=(t,a)=>{for(var n in a||(a={}))r.call(a,n)&&c(t,n,a[n]);if(i)for(var n of i(a))d.call(a,n)&&c(t,n,a[n]);return t},u=(t,a,n)=>(c(t,typeof a!="symbol"?a+"":a,n),n);const b={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"},C=t=>`<div class="${t.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${t.grid}"><#Multiple><div class="${t.column}"><div class="${t.header}"><div class="${t.headerContent}"><#Month /><#Year /></div></div><div class="${t.wrapper}"><#WeekNumbers /><div class="${t.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,f=t=>`<div class="${t.header}"><div class="${t.headerContent}"><#Month /><#Year /></div></div><div class="${t.wrapper}"><div class="${t.content}"><#Months /></div></div>`,N=t=>`<div class="${t.header}"><#ArrowPrev /><div class="${t.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${t.wrapper}"><div class="${t.content}"><#Years /></div></div>`;class H{constructor(){var a;u(this,"isInit",!1),u(this,"input",!1),u(this,"type","default"),u(this,"months",2),u(this,"jumpMonths",1),u(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),u(this,"settings",{lang:"en",iso8601:!0,range:{min:this.date.min,max:this.date.max,disablePast:!1,disableGaps:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),u(this,"locale",{months:[],weekday:[]}),u(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,hideCalendar:null,showCalendar:null}),u(this,"popups",{}),u(this,"CSSClasses",h({},b)),u(this,"DOMTemplates",{default:(a=this.CSSClasses,`<div class="${a.header}"><#ArrowPrev /><div class="${a.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${a.wrapper}"><#WeekNumbers /><div class="${a.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:C(this.CSSClasses),month:f(this.CSSClasses),year:N(this.CSSClasses)}),u(this,"HTMLElement"),u(this,"HTMLOriginalElement"),u(this,"HTMLInputElement"),u(this,"rangeMin"),u(this,"rangeMax"),u(this,"rangeDisabled"),u(this,"rangeEnabled"),u(this,"selectedDates"),u(this,"selectedHolidays"),u(this,"selectedMonth"),u(this,"selectedYear"),u(this,"selectedHours"),u(this,"selectedMinutes"),u(this,"selectedKeeping"),u(this,"selectedTime"),u(this,"currentType"),u(this,"correctMonths"),u(this,"viewYear"),u(this,"dateMin"),u(this,"dateMax")}}const P=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,_=t=>new Date(`${t}T00:00:00`),j=t=>t.reduce((a,n)=>(n.match(/^(\d{4}-\d{2}-\d{2})$/g)?a.push(n):n.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(o,m,y)=>{const v=_(m),M=_(y),p=new Date(v.getTime());for(;p<=M;p.setDate(p.getDate()+1))a.push(P(p));return o}),a),[]),R=t=>t?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(t)]||String(t):"",he=t=>`${t} is not found, check the first argument passed to new VanillaCalendar.`,le='The calendar has not been initialized, please initialize it using the "init()" method first.',Ht='You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',_t='Incorrect name of theme in "settings.visibility.theme".',xt="The value of the time property can be: false, true, 12 or 24.",Ae=t=>{t.currentType=t.type,(a=>{const n=a.settings.selected.month!==void 0&&Number(a.settings.selected.month)>=0&&Number(a.settings.selected.month)<12,o=a.settings.selected.year!==void 0&&Number(a.settings.selected.year)>=0&&Number(a.settings.selected.year)<=9999;a.selectedMonth=n?Number(a.settings.selected.month):a.date.today.getMonth(),a.selectedYear=o?Number(a.settings.selected.year):a.date.today.getFullYear(),a.viewYear=a.selectedYear})(t),(a=>{var n,o,m;a.settings.range.min=_(a.date.min)>=_(a.settings.range.min)?a.date.min:a.settings.range.min,a.settings.range.max=_(a.date.max)<=_(a.settings.range.max)?a.date.max:a.settings.range.max;const y=a.settings.range.disablePast&&!a.settings.range.disableAllDays&&_(a.settings.range.min)<a.date.today;a.rangeMin=y?P(a.date.today):a.settings.range.disableAllDays?P(new Date(a.selectedYear,a.selectedMonth,1)):a.settings.range.min,a.rangeMax=a.settings.range.disableAllDays?P(new Date(a.selectedYear,a.selectedMonth,1)):a.settings.range.max,a.rangeDisabled=a.settings.range.disabled&&!a.settings.range.disableAllDays?j(a.settings.range.disabled):[],a.rangeDisabled.length>1&&a.rangeDisabled.sort((v,M)=>+new Date(v)-+new Date(M)),a.rangeEnabled=a.settings.range.enabled?j(a.settings.range.enabled):[],(n=a.rangeEnabled)!=null&&n[0]&&((o=a.rangeDisabled)!=null&&o[0])&&(a.rangeDisabled=a.rangeDisabled.filter(v=>!a.rangeEnabled.includes(v))),a.rangeEnabled.length>1&&a.rangeEnabled.sort((v,M)=>+new Date(v)-+new Date(M)),(m=a.rangeEnabled)!=null&&m[0]&&a.settings.range.disableAllDays&&(a.rangeMin=a.rangeEnabled[0],a.rangeMax=a.rangeEnabled[a.rangeEnabled.length-1])})(t),(a=>{var n,o;a.selectedDates=(n=a.settings.selected.dates)!=null&&n[0]?j(a.settings.selected.dates):[],a.selectedHolidays=(o=a.settings.selected.holidays)!=null&&o[0]?j(a.settings.selected.holidays):[]})(t),(a=>{a.dateMin=a.settings.visibility.disabled?_(a.date.min):_(a.rangeMin),a.dateMax=a.settings.visibility.disabled?_(a.date.max):_(a.rangeMax)})(t),(a=>{const n=a.settings.selection.time===!0||a.settings.selection.time===12;if(n||a.settings.selection.time===24){let o=!1;if(typeof a.settings.selected.time=="string"){const m=n?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;a.settings.selected.time.replace(m,(y,v,M,p)=>(v&&M&&(o=!0,a.selectedHours=v,a.selectedMinutes=M),p&&n?a.selectedKeeping=p:n&&(a.selectedKeeping="AM"),""))}!o&&n?(a.selectedHours=R(String(a.date.today.getHours())),a.selectedMinutes=String(a.date.today.getMinutes()),a.selectedKeeping=Number(a.date.today.getHours())>=12?"PM":"AM"):o||(a.selectedHours=String(a.date.today.getHours()),a.selectedMinutes=String(a.date.today.getMinutes())),a.selectedHours=Number(a.selectedHours)<10?`0${Number(a.selectedHours)}`:`${a.selectedHours}`,a.selectedMinutes=Number(a.selectedMinutes)<10?`0${Number(a.selectedMinutes)}`:`${a.selectedMinutes}`,a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`}else if(a.settings.selection.time)throw new Error(xt)})(t),(a=>{a.correctMonths=a.type==="multiple"?a.months===1?2:a.months>12?12:a.months:1})(t)},J=t=>({hide(){t.HTMLElement.classList.add(t.CSSClasses.calendarHidden),t.actions.hideCalendar&&t.actions.hideCalendar(t)},show(){t.HTMLElement.classList.remove(t.CSSClasses.calendarHidden),t.actions.showCalendar&&t.actions.showCalendar(t)},self:t}),Pe=({arrowPrev:t,arrowNext:a,isPrevHidden:n,isNextHidden:o})=>{t.style.visibility=n?"hidden":"",a.style.visibility=o?"hidden":""},ye=t=>{var a,n;if(t.currentType==="month")return;const o=(a=t.HTMLElement)==null?void 0:a.querySelector(`.${t.CSSClasses.arrowPrev}`),m=(n=t.HTMLElement)==null?void 0:n.querySelector(`.${t.CSSClasses.arrowNext}`);!o||!m||{default:()=>{const y=_(P(new Date(t.selectedYear,t.selectedMonth,1))),v=new Date(y.getTime()),M=new Date(y.getTime());v.setMonth(v.getMonth()-t.jumpMonths),M.setMonth(M.getMonth()+t.jumpMonths),t.settings.selection.year||(t.dateMin.setFullYear(y.getFullYear()),t.dateMax.setFullYear(y.getFullYear()));const p=!t.settings.selection.month||v.getFullYear()<t.dateMin.getFullYear()||v.getFullYear()===t.dateMin.getFullYear()&&v.getMonth()<t.dateMin.getMonth(),S=!t.settings.selection.month||M.getFullYear()>t.dateMax.getFullYear()||M.getFullYear()===t.dateMax.getFullYear()&&M.getMonth()>t.dateMax.getMonth();Pe({arrowPrev:o,arrowNext:m,isPrevHidden:p,isNextHidden:S})},year:()=>{Pe({arrowPrev:o,arrowNext:m,isPrevHidden:t.dateMin.getFullYear()&&t.viewYear-7<=t.dateMin.getFullYear(),isNextHidden:t.dateMax.getFullYear()&&t.viewYear+7>=t.dateMax.getFullYear()})}}[t.currentType==="multiple"?"default":t.currentType]()},Ie=(t,a)=>{if(!t)return null;const n=_(t),o=a?n.getDay()||7:n.getDay();n.setDate(n.getDate()+4-o);const m=new Date(n.getFullYear(),0,1),y=Math.ceil(((+n-+m)/864e5+1)/7);return{year:n.getFullYear(),week:y}},Yt=(t,a,n,o,m)=>{const y=a[n].querySelector(`.${t.CSSClasses.dayBtn}`),v=Ie(y==null?void 0:y.dataset.calendarDay,t.settings.iso8601);if(!v)return;const M=o.cloneNode(!0);M.innerText=String(v.week),M.dataset.calendarYearWeek=String(v.year),m.append(M)},ve=(t,a,n,o,m,y,v,M)=>{const p=document.createElement("div");p.className=t.CSSClasses.day;const S=document.createElement("button");S.className=`${t.CSSClasses.dayBtn}${M?` ${M}`:""}`,S.type="button",S.innerText=String(o),S.dataset.calendarDay=y,t.settings.visibility.weekNumbers&&(()=>{const g=Ie(y,t.settings.iso8601);g&&(S.dataset.calendarWeekNumber=String(g.week))})(),v?t.settings.visibility.daysOutside&&p.append(S):p.append(S),((g,k,D)=>{var x,A,w,$,Y;const I=(x=g.settings.range.disableWeekday)==null?void 0:x.includes(D),O=g.settings.range.disableAllDays&&((A=g.rangeEnabled)==null?void 0:A[0]);!I&&!O||(w=g.rangeEnabled)!=null&&w.includes(k)||($=g.rangeDisabled)!=null&&$.includes(k)||(g.rangeDisabled.push(k),(Y=g.rangeDisabled)==null||Y.sort((W,B)=>+new Date(W)-+new Date(B)))})(t,y,m),((g,k,D,x,A,w,$)=>{var Y,I,O;(_(g.rangeMin)>_(w)||_(g.rangeMax)<_(w)||(Y=g.rangeDisabled)!=null&&Y.includes(w)||!g.settings.selection.month&&$||!g.settings.selection.year&&_(w).getFullYear()!==k)&&(x.classList.add(g.CSSClasses.dayBtnDisabled),x.tabIndex=-1),g.settings.visibility.today&&P(g.date.today)===w&&x.classList.add(g.CSSClasses.dayBtnToday),!g.settings.visibility.weekend||A!==0&&A!==6||x.classList.add(g.CSSClasses.dayBtnWeekend),(I=g.selectedHolidays)!=null&&I.includes(w)&&x.classList.add(g.CSSClasses.dayBtnHoliday),(O=g.selectedDates)!=null&&O.includes(w)&&(x.classList.add(g.CSSClasses.dayBtnSelected),g.selectedDates.length>1&&g.settings.selection.day==="multiple-ranged"&&(g.selectedDates[0]===w&&D.classList.add(g.CSSClasses.daySelectedFirst),g.selectedDates[g.selectedDates.length-1]===w&&D.classList.add(g.CSSClasses.daySelectedLast),g.selectedDates[0]!==w&&g.selectedDates[g.selectedDates.length-1]!==w&&D.classList.add(g.CSSClasses.daySelectedIntermediate)))})(t,a,p,S,m,y,v),n.append(p),t.actions.getDays&&t.actions.getDays(o,y,p,S,t)},re=t=>{const a=t.HTMLElement.querySelectorAll(`.${t.CSSClasses.days}`),n=t.HTMLElement.querySelectorAll(`.${t.CSSClasses.weekNumbers}`),o=new Date(t.selectedYear,t.selectedMonth,1);(t.settings.range.disableAllDays||t.settings.range.disableWeekday)&&t.rangeDisabled[0]&&(t.rangeDisabled=[]),a.forEach((m,y)=>{const v=new Date(o);v.setMonth(v.getMonth()+y);const M=v.getMonth(),p=v.getFullYear(),S=new Date(p,M,1),g=new Date(p,M+1,0).getDate(),k=t.settings.iso8601?(S.getDay()!==0?S.getDay():7)-1:S.getDay();t.settings.selection.day&&m.classList.add(t.CSSClasses.daysSelecting),m.innerHTML="",((D,x,A,w,$)=>{let Y=new Date(A,w,0).getDate()-($-1);const I=w===0?A-1:A,O=w===0?12:w<10?`0${w}`:w;for(let W=$;W>0;W--,Y++){const B=`${I}-${O}-${Y}`,q=_(B).getDay();ve(D,A,x,Y,q,B,!0,D.CSSClasses.dayBtnPrev)}})(t,m,p,M,k),((D,x,A,w,$)=>{for(let Y=1;Y<=A;Y++){const I=new Date(w,$,Y),O=P(I),W=I.getDay();ve(D,w,x,Y,W,O,!1,null)}})(t,m,g,p,M),((D,x,A,w,$,Y)=>{const I=Y+A,O=7*Math.ceil(I/7)-I,W=$+1===12?w+1:w,B=$+1===12?"01":$+2<10?`0${$+2}`:$+2;for(let q=1;q<=O;q++){const st=`${W}-${B}-${q<10?`0${q}`:String(q)}`,jt=_(st).getDay();ve(D,w,x,q,jt,st,!0,D.CSSClasses.dayBtnNext)}})(t,m,g,p,M,k),((D,x,A,w,$)=>{if(!D.settings.visibility.weekNumbers)return;w.innerHTML="";const Y=document.createElement("b");Y.className=D.CSSClasses.weekNumbersTitle,Y.innerText="#",w.append(Y);const I=document.createElement("div");I.className=D.CSSClasses.weekNumbersContent,w.append(I);const O=document.createElement("button");O.type="button",O.className=D.CSSClasses.weekNumber;const W=$.querySelectorAll(`.${D.CSSClasses.day}`),B=Math.ceil((x+A)/7);for(let q=0;q<B;q++)Yt(D,W,q===0?6:7*q,O,I)})(t,k,g,n[y],m),((D,x)=>{var A;D.popups&&((A=Object.entries(D.popups))==null||A.forEach(([w,$])=>((Y,I,O,W)=>{const B=O.querySelector(`[data-calendar-day="${Y}"]`);B&&(I!=null&&I.modifier&&B.classList.add(...I.modifier.trim().split(" ")),I!=null&&I.html&&(B.parentElement.innerHTML+=`<div class="${W}">${I.html}</div>`))})(w,$,x,D.CSSClasses.dayPopup)))})(t,m)})},ie=t=>{var a,n;const o=(a=t.HTMLElement)==null?void 0:a.querySelectorAll("[data-calendar-selected-month]"),m=(n=t.HTMLElement)==null?void 0:n.querySelectorAll("[data-calendar-selected-year]");if(!(o!=null&&o[0])&&(m!=null&&m[0]))return;const y=new Date(t.selectedYear,t.selectedMonth,1);o==null||o.forEach((v,M)=>((p,S,g,k)=>{const D=new Date(k.setMonth(p.selectedMonth+g)).getMonth(),x=p.settings.selection.month===!1||p.settings.selection.month==="only-arrows";S.tabIndex=x?-1:0,S.classList.toggle(p.CSSClasses.monthDisabled,x),S.setAttribute("data-calendar-selected-month",String(D)),S.innerText=p.locale.months[D]})(t,v,M,y)),m==null||m.forEach((v,M)=>((p,S,g,k)=>{const D=new Date(k.setFullYear(p.selectedYear,p.selectedMonth+g)).getFullYear(),x=p.settings.selection.year===!1||p.settings.selection.year==="only-arrows";S.tabIndex=x?-1:0,S.classList.toggle(p.CSSClasses.yearDisabled,x),S.setAttribute("data-calendar-selected-year",String(D)),S.innerText=String(D)})(t,v,M,y))},Me=(t,a)=>{const n=_(P(new Date(t.selectedYear,t.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-t.jumpMonths),next:()=>n.setMonth(n.getMonth()+t.jumpMonths)})[a](),[t.selectedMonth,t.selectedYear]=[n.getMonth(),n.getFullYear()],ie(t),ye(t),re(t)},Nt=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:t=>`<button type="button"class="${t.CSSClasses.arrow} ${t.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,ArrowPrev:t=>`<button type="button"class="${t.CSSClasses.arrow} ${t.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,ControlTime:t=>t.settings.selection.time?`<div class="${t.CSSClasses.time}"></div>`:"",Days:t=>`<div class="${t.CSSClasses.days}"></div>`,Month:t=>`<button type="button"class="${t.CSSClasses.month}"data-calendar-selected-month></button>`,Months:t=>`<div class="${t.CSSClasses.months}"></div>`,Week:t=>`<div class="${t.CSSClasses.week}"></div>`,WeekNumbers:t=>t.settings.visibility.weekNumbers?`<div class="${t.CSSClasses.weekNumbers}"></div>`:"",Year:t=>`<button type="button"class="${t.CSSClasses.year}"data-calendar-selected-year></button>`,Years:t=>`<div class="${t.CSSClasses.years}"></div>`},Symbol.toStringTag,{value:"Module"})),Q=(t,a)=>a.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(n,o)=>{const m=(y=o.replace(/[/\s\n\t]/g,""),Nt[y]);var y;return m?m(t):""}).replace(/[\n\t]/g,""),pe=(t,a)=>{const{HTMLElement:n,CSSClasses:o,DOMTemplates:m,type:y,currentType:v,correctMonths:M}=t,p=(g,k)=>{if(!a)return;const D=n.querySelector(`.${o.controls}`);D&&n.removeChild(D),n.querySelector(`.${o.grid}`).classList.add(o.gridDisabled);const x=a.closest(`.${o.column}`);x.classList.add(g),x.innerHTML=Q(t,k)},S={default:()=>{n.classList.add(o.calendarDefault),n.classList.remove(o.calendarMonth,o.calendarYear),n.innerHTML=Q(t,m.default)},multiple:()=>{M&&(n.classList.add(o.calendarMultiple),n.classList.remove(o.calendarMonth,o.calendarYear),n.innerHTML=((g,k)=>k.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(D,x)=>{let A="";for(let w=0;w<g.correctMonths;w++)A+=x;return A}).replace(/[\n\t]/g,""))(t,Q(t,m.multiple)))},month:()=>{y!=="multiple"?(n.classList.add(o.calendarMonth),n.classList.remove(o.calendarDefault,o.calendarYear),n.innerHTML=Q(t,m.month)):p(o.columnMonth,m.month)},year:()=>{y!=="multiple"?(n.classList.add(o.calendarYear),n.classList.remove(o.calendarDefault,o.calendarMonth),n.innerHTML=Q(t,m.year)):p(o.columnYear,m.year)}};n.classList.add(o.calendar),S[v]()},At=(t,a,n,o,m)=>{const y=a.cloneNode(!1);return y.className=`${t.CSSClasses.yearsYear}${n===m?` ${t.CSSClasses.yearsYearSelected}`:o?` ${t.CSSClasses.yearsYearDisabled}`:""}`,y.dataset.calendarYear=String(m),y.title=String(m),y.innerText=String(m),o&&(y.tabIndex=-1),y},Se=(t,a)=>{const n=a!=null&&a.dataset.calendarSelectedYear?Number(a==null?void 0:a.dataset.calendarSelectedYear):t.selectedYear;t.currentType="year",pe(t,a),ie(t),ye(t);const o=t.HTMLElement.querySelector(`.${t.CSSClasses.years}`);if(!t.settings.selection.year||!o)return;o.classList.add(t.CSSClasses.yearsSelecting);const m=t.type!=="multiple"||t.selectedYear===n?0:1,y=document.createElement("button");y.type="button";for(let v=t.viewYear-7;v<t.viewYear+8;v++){const M=v<t.dateMin.getFullYear()+m||v>t.dateMax.getFullYear();o.append(At(t,y,n,M,v))}},Fe=t=>`${t.charAt(0).toUpperCase()}${t.substring(1,t.length)}`.replace(/\./,""),Pt=(t,a)=>{const n=new Date(`1978-01-0${a+1}T00:00:00.000Z`).toLocaleString(t.settings.lang,{weekday:"short",timeZone:"UTC"});t.locale.weekday.push(Fe(n))},It=(t,a)=>{const n=new Date(`1978-${a+1<=9?`0${a+1}`:a+1}-01T00:00:00.000Z`).toLocaleString(t.settings.lang,{month:"long",timeZone:"UTC"});t.locale.months.push(Fe(n))},Oe=t=>{if(t.type!=="multiple")return 0;const a=[...t.HTMLElement.querySelectorAll(`.${t.CSSClasses.column}`)].findIndex(n=>n.classList.contains(`${t.CSSClasses.columnMonth}`));return a>0?a:0},Ft=(t,a,n,o,m,y)=>{const v=a.cloneNode(!1);return v.className=`${t.CSSClasses.monthsMonth}${n===y?` ${t.CSSClasses.monthsMonthSelected}`:m?` ${t.CSSClasses.monthsMonthDisabled}`:""}`,v.title=o,v.innerText=`${t.settings.visibility.monthShort?o.substring(0,3):o}`,v.dataset.calendarMonth=String(y),m&&(v.tabIndex=-1),v},We=(t,a)=>{var n,o;const m=a!=null&&a.dataset.calendarSelectedMonth?Number(a.dataset.calendarSelectedMonth):t.selectedMonth,y=(n=a==null?void 0:a.closest(`.${t.CSSClasses.column}`))==null?void 0:n.querySelector(`.${t.CSSClasses.year}`),v=y?Number(y.dataset.calendarSelectedYear):t.selectedYear;t.currentType="month",pe(t,a),ie(t);const M=(o=t.HTMLElement)==null?void 0:o.querySelector(`.${t.CSSClasses.months}`);if(!t.settings.selection.month||!M)return;M.classList.add(t.CSSClasses.monthsSelecting);const p=t.jumpMonths>1?t.locale.months.map((g,k)=>m-t.jumpMonths*k).concat(t.locale.months.map((g,k)=>m+t.jumpMonths*k)).filter(g=>g>=0&&g<=12):Array.from(Array(12).keys()),S=document.createElement("button");S.type="button";for(let g=0;g<12;g++){const k=t.locale.months[g],D=g<t.dateMin.getMonth()+Oe(t)&&v<=t.dateMin.getFullYear()||g>t.dateMax.getMonth()+Oe(t)&&v>=t.dateMax.getFullYear()||g!==m&&!p.includes(g);M.append(Ft(t,S,m,k,D,g))}},be=(t,a)=>t&&a?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(t)][a]:"",de=(t,a,n)=>t.querySelector(`.${a}${n?` input[name="${n}"]`:""}`),qe=(t,a,n)=>{t.addEventListener("mouseover",()=>a.classList.add(n)),t.addEventListener("mouseout",()=>a.classList.remove(n))},z=(t,a,n,o)=>{({hours:()=>{t.selectedHours=n},minutes:()=>{t.selectedMinutes=n}})[o](),t.selectedTime=`${t.selectedHours}:${t.selectedMinutes}${t.selectedKeeping?` ${t.selectedKeeping}`:""}`,t.actions.changeTime&&t.actions.changeTime(a,t),t.input&&t.HTMLInputElement&&t.actions.changeToInput&&t.actions.changeToInput(a,J(t),t)},Be=(t,a,n,o,m,y)=>{a.addEventListener("input",v=>{const M=v.target,p=Number(M.value),S=p<10?`0${p}`:`${p}`;if(m!=="hours"||y!==12)return n.value=S,void z(t,v,S,m);p<y&&p>0?(n.value=S,t.selectedKeeping="AM",o.innerText=t.selectedKeeping,z(t,v,S,m)):(p===0?(t.selectedKeeping="AM",o.innerText="AM"):(t.selectedKeeping="PM",o.innerText="PM"),n.value=R(M.value),z(t,v,R(M.value),m))})},je=(t,a,n,o,m,y)=>{n.addEventListener("change",v=>{const M=v.target,p=Number(M.value),S=p<10?`0${p}`:`${p}`;m==="hours"&&y===12?M.value&&p<=y&&p>0?(M.value=S,a.value=be(S,t.selectedKeeping),z(t,v,S,m)):M.value&&p<24&&(p>y||p===0)?(p===0?(t.selectedKeeping="AM",o.innerText="AM"):(t.selectedKeeping="PM",o.innerText="PM"),M.value=R(M.value),a.value=S,z(t,v,R(M.value),m)):M.value=t.selectedHours:M.value&&p<=y&&p>=0?(M.value=S,a.value=S,z(t,v,S,m)):m==="hours"?M.value=t.selectedHours:m==="minutes"&&(M.value=t.selectedMinutes)})},Ot=(t,a,n)=>{const o=n===24?23:n||12,m=de(a,t.CSSClasses.timeRange,"hours"),y=de(a,t.CSSClasses.timeRange,"minutes"),v=de(a,t.CSSClasses.timeHours,"hours"),M=de(a,t.CSSClasses.timeMinutes,"minutes"),p=a.querySelector(`.${t.CSSClasses.timeKeeping}`);qe(m,v,t.CSSClasses.isFocus),qe(y,M,t.CSSClasses.isFocus),Be(t,m,v,p,"hours",o),Be(t,y,M,p,"minutes",0),je(t,m,v,p,"hours",o),je(t,y,M,p,"minutes",59),p&&((S,g,k)=>{g.addEventListener("click",D=>{S.selectedKeeping=g.innerText.includes("AM")?"PM":"AM",g.innerText=S.selectedKeeping,k.value=be(S.selectedHours,S.selectedKeeping),z(S,D,S.selectedHours,"hours")})})(t,p,m)},Ke=(t,a,n,o)=>`<label class="${a}"><input type="text"name="${t}"maxlength="2"value="${n}"${o?"disabled":""}></label>`,Re=(t,a,n,o,m,y)=>`<label class="${a}"><input type="range"name="${t}"min="${n}"max="${o}"step="${m}"value="${y}"></label>`,ze=t=>{const a=[...t.locale.weekday];a[0]&&(t.settings.iso8601&&a.push(a.shift()),t.HTMLElement.querySelectorAll(`.${t.CSSClasses.week}`).forEach(n=>((o,m,y)=>{const v=document.createElement("b");m.innerHTML="";for(let M=0;M<y.length;M++){const p=y[M],S=v.cloneNode(!0);S.className=`${o.CSSClasses.weekDay}`,S.className=`${o.CSSClasses.weekDay}${o.settings.visibility.weekend&&o.settings.iso8601?M===5||M===6?` ${o.CSSClasses.weekDayWeekend}`:"":!o.settings.visibility.weekend||o.settings.iso8601||M!==0&&M!==6?"":` ${o.CSSClasses.weekDayWeekend}`}`,S.innerText=`${p}`,m.append(S)}})(t,n,a)))},Ge=["light","dark","system"],oe={value:!1,set:()=>{oe.value=!0},check:()=>oe.value},Ue=(t,a)=>Ge.find(n=>{var o;return n!=="system"&&((o=t.getAttribute(a))==null?void 0:o.includes(n))}),U=(t,a)=>{t.dataset.calendarTheme=a},Ze=(t,a)=>{const n=o=>U(t.HTMLElement,o.matches?"dark":"light");n(a),t.settings.visibility.theme!=="system"||oe.check()||(a.addEventListener("change",n),oe.set())},Wt=(t,a)=>{const n=t.settings.visibility.themeDetect?document.querySelector(t.settings.visibility.themeDetect):null;if(n){const o=t.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(y,v)=>v),m=Ue(n,o);m?(U(t.HTMLElement,m),((y,v,M)=>{new MutationObserver(p=>{for(let S=0;S<p.length;S++)if(p[S].attributeName===M){const g=Ue(v,M);g&&U(y.HTMLElement,g);break}}).observe(v,{attributes:!0})})(t,n,o)):Ze(t,a)}else Ze(t,a)},X=t=>{const a={default:()=>{ze(t),re(t)},multiple:()=>{ze(t),re(t)},month:()=>We(t),year:()=>Se(t)};(n=>{if(!Ge.includes(n.settings.visibility.theme))throw new Error(_t);let o;if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void U(n.HTMLElement,"light");o=window.matchMedia("(prefers-color-scheme: dark)"),{light:()=>U(n.HTMLElement,"light"),dark:()=>U(n.HTMLElement,"dark"),system:()=>Wt(n,o)}[n.settings.visibility.theme]()})(t),(n=>{if(n.settings.lang!=="define"||!n.locale.weekday[6]||!n.locale.months[11]){if(n.settings.lang==="define")throw new Error(Ht);n.locale.weekday=[],n.locale.months=[];for(let o=0;o<7;o++)Pt(n,o);for(let o=0;o<12;o++)It(n,o)}})(t),pe(t),ie(t),ye(t),(n=>{const o=n.HTMLElement.querySelector(`.${n.CSSClasses.time}`);if(!o)return;const m=n.settings.selection.time===!0?12:n.settings.selection.time,y=n.settings.selection.controlTime==="range",[v,M]=[0,23],[p,S]=[0,59];o.innerHTML=`<div class="${n.CSSClasses.timeContent}">${Ke("hours",n.CSSClasses.timeHours,n.selectedHours,y)}${Ke("minutes",n.CSSClasses.timeMinutes,n.selectedMinutes,y)}${m===12?`<button type="button" class="${n.CSSClasses.timeKeeping}"${y?"disabled":""}>${n.selectedKeeping}</button>`:""}</div><div class="${n.CSSClasses.timeRanges}">${Re("hours",n.CSSClasses.timeRange,v,M,n.settings.selection.stepHours,n.selectedKeeping?be(n.selectedHours,n.selectedKeeping):n.selectedHours)}${Re("minutes",n.CSSClasses.timeRange,p,S,n.settings.selection.stepMinutes,n.selectedMinutes)}</div>`,Ot(n,o,m)})(t),a[t.currentType]()},T={self:null,rangeMin:void 0,rangeMax:void 0},Ve=()=>{var t;if(!((t=T.self)!=null&&t.HTMLElement))return;const{CSSClasses:a}=T.self;T.self.HTMLElement.querySelectorAll(`.${T.self.CSSClasses.dayBtnHover}`).forEach(n=>{var o;n.classList.remove(T.self.CSSClasses.dayBtnHover),(o=n.parentElement)==null||o.classList.remove(a.dayHoverIntermediate,a.dayHoverFirst,a.dayHoverLast)})},qt=(t,a,n)=>{var o,m,y;if(!((o=T.self)!=null&&o.selectedDates))return;const v=P(t),{CSSClasses:M}=T.self;if((m=T.self.rangeDisabled)!=null&&m.includes(v))return;const p=(y=T.self.HTMLElement)==null?void 0:y.querySelectorAll(`[data-calendar-day="${v}"]`);p==null||p.forEach(S=>{var g;S.classList.add(M.dayBtnHover),(g=S.parentElement)==null||g.classList.add(M.dayHoverIntermediate)}),a==null||a.forEach(S=>{var g;return(g=S.parentElement)==null?void 0:g.classList.add(M.dayHoverFirst)}),n==null||n.forEach(S=>{var g;return(g=S.parentElement)==null?void 0:g.classList.add(M.dayHoverLast)})},Ce=t=>{var a;if(!t.target||!((a=T.self)!=null&&a.selectedDates))return;if(!t.target.closest(`.${T.self.CSSClasses.days}`))return void Ve();const n=t.target.closest("[data-calendar-day]");if(!n)return;const o=n.dataset.calendarDay,m=_(T.self.selectedDates[0]),y=_(o),v=T.self.HTMLElement.querySelectorAll(`[data-calendar-day="${T.self.selectedDates[0]}"]`),M=T.self.HTMLElement.querySelectorAll(`[data-calendar-day="${o}"]`),[p,S]=m<y?[v,M]:[M,v],[g,k]=m<y?[m,y]:[y,m];Ve();for(let D=new Date(g);D<=k;D.setDate(D.getDate()+1))qt(D,p,S)},fe=t=>{T.self&&t.key==="Escape"&&(T.self.selectedDates=[],T.self.HTMLElement.removeEventListener("mousemove",Ce),document.removeEventListener("keydown",fe),X(T.self))},Je=(t,a)=>{var n;if(a){const m=t.selectedDates.length===1&&t.selectedDates[0].includes(a);t.selectedDates=m&&!t.settings.selection.cancelableDay?[a,a]:m&&t.settings.selection.cancelableDay?[]:t.selectedDates.length>1?[a]:[...t.selectedDates,a],(n=t.selectedDates)==null||n.sort((y,v)=>+new Date(y)-+new Date(v))}t.settings.range.disableGaps&&(T.rangeMin=T.rangeMin?T.rangeMin:t.rangeMin,T.rangeMax=T.rangeMax?T.rangeMax:t.rangeMax),T.self=t,{set:()=>{t.HTMLElement.addEventListener("mousemove",Ce),document.addEventListener("keydown",fe),t.settings.range.disableGaps&&(()=>{var m,y,v;if(!((y=(m=T.self)==null?void 0:m.selectedDates)!=null&&y[0])||!T.self.rangeDisabled||((v=T.self.rangeDisabled)==null?void 0:v.length)<2)return;const M=_(T.self.selectedDates[0]),[p,S]=T.self.rangeDisabled.map(g=>_(g)).reduce(([g,k],D)=>[M>=D?D:g,M<D&&k===null?D:k],[null,null]);p&&(T.self.rangeMin=P(new Date(p.setDate(p.getDate()+1)))),S&&(T.self.rangeMax=P(new Date(S.setDate(S.getDate()-1))))})()},reset:()=>{const[m,y]=[t.selectedDates[0],t.selectedDates[t.selectedDates.length-1]];t.selectedDates=t.selectedDates[0]!==t.selectedDates[t.selectedDates.length-1]?j([`${m}:${y}`]):[t.selectedDates[0],t.selectedDates[0]],t.HTMLElement.removeEventListener("mousemove",Ce),document.removeEventListener("keydown",fe),t.settings.range.disableGaps&&T.self&&(T.self.rangeMin=T.rangeMin,T.self.rangeMax=T.rangeMax)}}[t.selectedDates.length===1?"set":"reset"]()},Qe=(t,a,n)=>{if(!a.dataset.calendarDay)return;const o=a.dataset.calendarDay,m=a.classList.contains(t.CSSClasses.dayBtnSelected);m&&!t.settings.selection.cancelableDay||(t.selectedDates=m?t.selectedDates.filter(y=>y!==o):n?[...t.selectedDates,o]:[o])},Xe=(t,a,n,o,m)=>{const y=t.HTMLElement.querySelectorAll(`.${t.CSSClasses.column}`),v=[...y].findIndex(p=>p.classList.contains(a)),M=Number(y[v].querySelector(`.${n}`).getAttribute(m));return t.currentType==="month"&&v>=0?o-v:t.currentType==="year"&&t.selectedYear!==M?o-1:o},et=(t,a,n,o)=>{if(!t.settings.selection[n])return;const m=a.target,y=g=>m.closest(`.${g}`),v=y(o.header),M=y(o.item),p=y(t.CSSClasses.grid),S=y(t.CSSClasses.column);t.currentType!==n&&v?{year:()=>Se(t,m),month:()=>We(t,m)}[n]():M?((g,k,D,x,A)=>{const w={year:()=>{var $,Y;return(Y=($=g.actions).clickYear)==null?void 0:Y.call($,k,g)},month:()=>{var $,Y;return(Y=($=g.actions).clickMonth)==null?void 0:Y.call($,k,g)}};({year:()=>{if(g.type==="multiple"){const $=Xe(g,g.CSSClasses.columnYear,g.CSSClasses.year,Number(A.dataset.calendarYear),"data-calendar-selected-year"),Y=g.selectedMonth<g.dateMin.getMonth()&&$<=g.dateMin.getFullYear(),I=g.selectedMonth>g.dateMax.getMonth()&&$>=g.dateMax.getFullYear(),O=$<g.dateMin.getFullYear(),W=$>g.dateMax.getFullYear();Y||O?(g.selectedYear=g.dateMin.getFullYear(),g.selectedMonth=g.dateMin.getMonth()):I||W?(g.selectedYear=g.dateMax.getFullYear(),g.selectedMonth=g.dateMax.getMonth()):g.selectedYear=$}else g.selectedYear=Number(A.dataset.calendarYear)},month:()=>{if(g.type==="multiple"){const $=Xe(g,g.CSSClasses.columnMonth,g.CSSClasses.month,Number(A.dataset.calendarMonth),"data-calendar-selected-month"),Y=A.closest(`.${x.column}`).querySelector(`.${g.CSSClasses.year}`);g.selectedYear=Number(Y.dataset.calendarSelectedYear);const I=$<g.dateMin.getMonth()&&g.selectedYear<=g.dateMin.getFullYear(),O=$>g.dateMax.getMonth()&&g.selectedYear>=g.dateMax.getFullYear();g.selectedMonth=I?g.dateMin.getMonth():O?g.dateMax.getMonth():$}else g.selectedMonth=Number(A.dataset.calendarMonth)}})[D](),w[D](),g.currentType=g.type,X(g)})(t,a,n,o,M):(t.currentType===n&&v||t.type==="multiple"&&t.currentType===n&&p&&!S)&&(t.currentType=t.type,X(t))},tt=t=>{t.HTMLElement.addEventListener("click",a=>{((n,o)=>{const m=o.target.closest(`.${n.CSSClasses.arrow}`);m&&(["default","multiple"].includes(n.currentType)?Me(n,m.dataset.calendarArrow):n.currentType==="year"&&n.viewYear!==void 0&&(n.viewYear+={prev:-15,next:15}[m.dataset.calendarArrow],Se(n,o.target)),n.actions.clickArrow&&n.actions.clickArrow(o,n))})(t,a),((n,o)=>{var m;if(!n.settings.visibility.weekNumbers||!n.actions.clickWeekNumber)return;const y=o.target.closest(`.${n.CSSClasses.weekNumber}`),v=(m=n.HTMLElement)==null?void 0:m.querySelectorAll("[data-calendar-week-number]");if(!y||!v)return;const M=Number(y.innerText),p=Number(y.dataset.calendarYearWeek),S=[...v].filter(g=>Number(g.dataset.calendarWeekNumber)===M);n.actions.clickWeekNumber(o,M,S,p,n)})(t,a),((n,o)=>{var m;const y=o.target,v=g=>y.closest(`.${g}`),M=v(n.CSSClasses.dayBtn);if(!n.settings.selection.day||!["single","multiple","multiple-ranged"].includes(n.settings.selection.day)||!M)return;({single:()=>Qe(n,M,!1),multiple:()=>Qe(n,M,!0),"multiple-ranged":()=>Je(n,M.dataset.calendarDay)})[n.settings.selection.day](),(m=n.selectedDates)==null||m.sort((g,k)=>+new Date(g)-+new Date(k)),n.actions.clickDay&&n.actions.clickDay(o,n),n.input&&n.HTMLInputElement&&n.HTMLElement&&n.actions.changeToInput&&n.actions.changeToInput(o,J(n),n);const p=v(n.CSSClasses.dayBtnPrev),S=v(n.CSSClasses.dayBtnNext);({prev:()=>Me(n,"prev"),next:()=>Me(n,"next"),default:()=>re(n)})[p?"prev":S?"next":"default"]()})(t,a),et(t,a,"month",{header:t.CSSClasses.month,item:t.CSSClasses.monthsMonth,column:t.CSSClasses.columnMonth}),et(t,a,"year",{header:t.CSSClasses.year,item:t.CSSClasses.yearsYear,column:t.CSSClasses.columnYear})})},at=(t,{year:a,month:n,dates:o,holidays:m,time:y}={})=>{var v;if(!t.isInit)throw new Error(le);const M=h({},t.settings.selected);t.settings.selected.year=a?M.year:t.selectedYear,t.settings.selected.month=n?M.month:t.selectedMonth,t.settings.selected.holidays=m?M.holidays:t.selectedHolidays,t.settings.selected.time=y?M.time:t.selectedTime,t.settings.selected.dates=o==="only-first"&&((v=t.selectedDates)!=null&&v[0])?[t.selectedDates[0]]:o===!0?M.dates:t.selectedDates,Ae(t),X(t),t.settings.selected=M,t.settings.selection.day==="multiple-ranged"&&o&&Je(t)},De=(t,a,n)=>{const o={left:0,center:t.offsetWidth/2-a.offsetWidth/2,right:t.offsetWidth-a.offsetWidth};let m=t.offsetHeight,y=o[n];for(let v=t;v;v=v.offsetParent)m+=v.offsetTop||0,y+=v.offsetLeft||0;Object.assign(a.style,{left:`${y}px`,top:`${m}px`})},Bt=t=>{let a=!0;t.HTMLInputElement=t.HTMLElement;const n=()=>De(t.HTMLInputElement,t.HTMLElement,t.settings.visibility.positionToInput),o=m=>{var y;t&&m.target!==t.HTMLInputElement&&!((y=t.HTMLElement)!=null&&y.contains(m.target))&&(t.HTMLInputElement&&t.HTMLElement&&J(t).hide(),window.removeEventListener("resize",n),document.removeEventListener("click",o,{capture:!0}))};t.HTMLInputElement.addEventListener("click",()=>{a?(()=>{const m=document.createElement("div");m.className=`${t.CSSClasses.calendar} ${t.CSSClasses.calendarToInput} ${t.CSSClasses.calendarHidden}`,t.HTMLElement=m,document.body.append(t.HTMLElement),De(t.HTMLInputElement,m,t.settings.visibility.positionToInput),a=!1,setTimeout(()=>J(t).show(),0),at(t,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),tt(t)})():(De(t.HTMLInputElement,t.HTMLElement,t.settings.visibility.positionToInput),J(t).show()),window.addEventListener("resize",n),document.addEventListener("click",o,{capture:!0})})};return class extends H{constructor(t,a){if(super(),u(this,"init",()=>{return(o=this).HTMLOriginalElement=o.HTMLElement.cloneNode(!0),o.isInit=!0,void(o.input?Bt(o):(Ae(o),X(o),tt(o)));var o}),u(this,"update",o=>at(this,o)),u(this,"destroy",()=>(o=>{var m,y,v,M;if(!o.isInit)throw new Error(le);o.input?((y=(m=o.HTMLElement)==null?void 0:m.parentElement)==null||y.removeChild(o.HTMLElement),(v=o.HTMLInputElement)==null||v.replaceWith(o.HTMLOriginalElement),o.HTMLInputElement=void 0):(M=o.HTMLElement)==null||M.replaceWith(o.HTMLOriginalElement),o.HTMLElement=o.HTMLOriginalElement})(this)),this.HTMLElement=typeof t=="string"?document.querySelector(t):t,!this.HTMLElement)throw new Error(he(t));if(!a)return;const n=(o,m)=>{Object.keys(m).forEach(y=>{typeof o[y]!="object"||typeof m[y]!="object"||m[y]instanceof Date?o[y]=m[y]:n(o[y],m[y])})};n(this,a)}}})})(Ua);var Ee={},Za={get exports(){return Ee},set exports(e){Ee=e}};(function(e,s){(function(i,r){e.exports=r()})(typeof self<"u"?self:Et,function(){return function(l){var i={};function r(d){if(i[d])return i[d].exports;var c=i[d]={i:d,l:!1,exports:{}};return l[d].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=l,r.c=i,r.d=function(d,c,h){r.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:h})},r.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},r.t=function(d,c){if(c&1&&(d=r(d)),c&8||c&4&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),c&2&&typeof d!="string")for(var u in d)r.d(h,u,function(b){return d[b]}.bind(null,u));return h},r.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return r.d(c,"a",c),c},r.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},r.p="",r(r.s="./src/index.js")}({"./src/darkmode.js":function(l,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.IS_BROWSER=void 0;function d(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}function c(C,f){for(var N=0;N<f.length;N++){var H=f[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}function h(C,f,N){return f&&c(C.prototype,f),N&&c(C,N),C}var u=typeof window<"u";i.IS_BROWSER=u;var b=function(){function C(f){if(d(this,C),!!u){var N={bottom:"32px",right:"32px",left:"unset",time:"0.3s",mixColor:"#fff",backgroundColor:"#fff",buttonColorDark:"#100f2c",buttonColorLight:"#fff",label:"",saveInCookies:!0,autoMatchOsTheme:!0};f=Object.assign({},N,f);var H=`
      .darkmode-layer {
        position: fixed;
        pointer-events: none;
        background: `.concat(f.mixColor,`;
        transition: all `).concat(f.time,` ease;
        mix-blend-mode: difference;
      }

      .darkmode-layer--button {
        width: 2.9rem;
        height: 2.9rem;
        border-radius: 50%;
        right: `).concat(f.right,`;
        bottom: `).concat(f.bottom,`;
        left: `).concat(f.left,`;
      }

      .darkmode-layer--simple {
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform: scale(1) !important;
      }

      .darkmode-layer--expanded {
        transform: scale(100);
        border-radius: 0;
      }

      .darkmode-layer--no-transition {
        transition: none;
      }

      .darkmode-toggle {
        background: `).concat(f.buttonColorDark,`;
        width: 3rem;
        height: 3rem;
        position: fixed;
        border-radius: 50%;
        border:none;
        right: `).concat(f.right,`;
        bottom: `).concat(f.bottom,`;
        left: `).concat(f.left,`;
        cursor: pointer;
        transition: all 0.5s ease;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .darkmode-toggle--white {
        background: `).concat(f.buttonColorLight,`;
      }

      .darkmode-toggle--inactive {
        display: none;
      }

      .darkmode-background {
        background: `).concat(f.backgroundColor,`;
        position: fixed;
        pointer-events: none;
        z-index: -10;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      }

      img, .darkmode-ignore {
        isolation: isolate;
        display: inline-block;
      }

      @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
        .darkmode-toggle {display: none !important}
      }

      @supports (-ms-ime-align:auto), (-ms-accelerator:true) {
        .darkmode-toggle {display: none !important}
      }
    `),P=document.createElement("div"),_=document.createElement("button"),j=document.createElement("div");_.innerHTML=f.label,_.classList.add("darkmode-toggle--inactive"),P.classList.add("darkmode-layer"),j.classList.add("darkmode-background");var R=window.localStorage.getItem("darkmode")==="true",he=f.autoMatchOsTheme&&window.matchMedia("(prefers-color-scheme: dark)").matches,le=window.localStorage.getItem("darkmode")===null;(R===!0&&f.saveInCookies||le&&he)&&(P.classList.add("darkmode-layer--expanded","darkmode-layer--simple","darkmode-layer--no-transition"),_.classList.add("darkmode-toggle--white"),document.body.classList.add("darkmode--activated")),document.body.insertBefore(_,document.body.firstChild),document.body.insertBefore(P,document.body.firstChild),document.body.insertBefore(j,document.body.firstChild),this.addStyle(H),this.button=_,this.layer=P,this.saveInCookies=f.saveInCookies,this.time=f.time}}return h(C,[{key:"addStyle",value:function(N){var H=document.createElement("link");H.setAttribute("rel","stylesheet"),H.setAttribute("type","text/css"),H.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent(N)),document.head.appendChild(H)}},{key:"showWidget",value:function(){var N=this;if(u){var H=this.button,P=this.layer,_=parseFloat(this.time)*1e3;H.classList.add("darkmode-toggle"),H.classList.remove("darkmode-toggle--inactive"),H.setAttribute("aria-label","Activate dark mode"),H.setAttribute("aria-checked","false"),H.setAttribute("role","checkbox"),P.classList.add("darkmode-layer--button"),H.addEventListener("click",function(){var j=N.isActivated();j?(P.classList.remove("darkmode-layer--simple"),H.setAttribute("disabled",!0),setTimeout(function(){P.classList.remove("darkmode-layer--no-transition"),P.classList.remove("darkmode-layer--expanded"),H.removeAttribute("disabled")},1)):(P.classList.add("darkmode-layer--expanded"),H.setAttribute("disabled",!0),setTimeout(function(){P.classList.add("darkmode-layer--no-transition"),P.classList.add("darkmode-layer--simple"),H.removeAttribute("disabled")},_)),H.classList.toggle("darkmode-toggle--white"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!j)})}}},{key:"toggle",value:function(){if(u){var N=this.layer,H=this.isActivated(),P=this.button;N.classList.toggle("darkmode-layer--simple"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!H),P.setAttribute("aria-label","De-activate dark mode"),P.setAttribute("aria-checked","true")}}},{key:"isActivated",value:function(){return u?document.body.classList.contains("darkmode--activated"):null}}]),C}();i.default=b},"./src/index.js":function(l,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=c(r("./src/darkmode.js"));function c(u){if(u&&u.__esModule)return u;var b={};if(u!=null){for(var C in u)if(Object.prototype.hasOwnProperty.call(u,C)){var f=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(u,C):{};f.get||f.set?Object.defineProperty(b,C,f):b[C]=u[C]}}return b.default=u,b}var h=d.default;i.default=h,d.IS_BROWSER&&function(u){u.Darkmode=d.default}(window),l.exports=i.default}})})})(Za);const Ja=Ga(Ee);export{Ja as D,Va as V};
//# sourceMappingURL=vendor-5284ba2c.js.map
